import{r as f,j as e}from"./vendor-DXIbDcKT.js";import{T as H,U as Q,o as X,C,e as D,f as U,B as $,y as B,d as O,P as R,a as S,l as w,b as A,z as oe,A as V}from"./PageRouter-CIfBiaNF.js";import{c as ce,B as _}from"./form-BXqoAfbz.js";import{C as J}from"./star-D2PB8xc6.js";import{I as de}from"./input-C7VUj8YG.js";import{t as u}from"./index-DGasXiiE.js";import{u as z,a as me}from"./index-CeFcU1Pp.js";import{c as xe,a as ue,s as P}from"./exerciseApi-DGTa58oh.js";import{S as he}from"./share-2-CtPUtINk.js";import{B as pe}from"./book-open-CV-Byv9f.js";import{A as ge}from"./AuthModal-CVFncfpr.js";import{U as Y}from"./user-TYsQtZ_d.js";import{L as je}from"./log-out-CRh27wRw.js";import"./index-hfqQnxIx.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],G=ce("save",be),ye=[{id:"ai-tasks",titleKey:"exercises.ai_tasks.title",descriptionKey:"exercises.ai_tasks.description",icon:H,durationKey:"exercises.duration_10min",difficultyKey:"exercises.difficulty_beginner"},{id:"future-planning",titleKey:"exercises.future_planning.title",descriptionKey:"exercises.future_planning.description",icon:J,durationKey:"exercises.duration_25min",difficultyKey:"exercises.difficulty_intermediate"},{id:"tool-sharing",titleKey:"exercises.tool_sharing.title",descriptionKey:"exercises.tool_sharing.description",icon:Q,durationKey:"exercises.duration_15min",difficultyKey:"exercises.difficulty_beginner"},{id:"ai-task-coach",titleKey:"exercises.ai_task_coach.title",descriptionKey:"exercises.ai_task_coach.description",icon:X,durationKey:"exercises.duration_30min",difficultyKey:"exercises.difficulty_intermediate"}];function fe({responses:l,updateResponse:h,userDetails:c}){const[i,k]=f.useState(!1),[a,x]=f.useState(1),[p,j]=f.useState(!1),{t:n}=z(),y=l["ai-tasks"]||{},b=Object.values(y).filter(d=>d&&d.trim().length>0).length,N=4,r=xe("ai-tasks",y);f.useEffect(()=>{Object.keys(y).length>0&&ue("ai-tasks",y)},[y]);const t=async()=>{if(Object.keys(y).length===0){u.error("Please fill in at least one field before saving");return}j(!0);try{await P({exercise_type:"ai-tasks",responses:y,completion_status:"in_progress",user_details:c}),u.success(n("exercises.ai_tasks.save_success")||"Progress saved successfully!")}catch(d){if(console.error("AI Tasks save error:",d),d&&typeof d=="object"&&"message"in d){const m=d;if(m.isValidationError&&m.isValidationError()){const E=m.getValidationErrors?m.getValidationErrors():[];u.error(`Validation failed: ${E.join(", ")}`)}else m.isNetworkError&&m.isNetworkError()?u.error("Network error. Please check your connection and try again."):m.isTimeoutError&&m.isTimeoutError()?u.error("Request timed out. Please try again."):u.error(m.message||"Failed to save progress.")}else u.error("Failed to save progress. Please try again.")}finally{j(!1)}},g=async()=>{if(b>=3){j(!0);try{await P({exercise_type:"ai-tasks",responses:y,completion_status:"completed",user_details:c}),k(!0),u.success(n("exercises.ai_tasks.complete_success")||"Exercise completed successfully!")}catch(d){if(console.error("AI Tasks complete error:",d),d&&typeof d=="object"&&"message"in d){const m=d;if(m.isValidationError&&m.isValidationError()){const E=m.getValidationErrors?m.getValidationErrors():[];u.error(`Validation failed: ${E.join(", ")}`)}else m.isNetworkError&&m.isNetworkError()?u.error("Network error. Please check your connection and try again."):m.isTimeoutError&&m.isTimeoutError()?u.error("Request timed out. Please try again."):u.error(m.message||"Failed to complete exercise.")}else u.error("Failed to complete exercise. Please try again.")}finally{j(!1)}}else u.error(n("exercises.ai_tasks.complete_error")||"Please complete at least 3 sections before marking as complete.")};return e.jsxs(C,{className:"max-w-4xl mx-auto",children:[e.jsxs(D,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(U,{className:"flex items-center gap-3",children:[e.jsx(H,{className:"w-6 h-6 text-primary"}),n("exercises.ai_tasks.title")]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs($,{variant:i?"default":"secondary",className:"gap-1",children:[i?e.jsx(B,{className:"w-3 h-3"}):e.jsx(O,{className:"w-3 h-3"}),n(i?"exercises.ai_tasks.completed":"exercises.ai_tasks.in_progress")]}),e.jsxs($,{variant:"outline",children:[b,"/",N," ",n("exercises.ai_tasks.sections")]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:n("exercises.ai_tasks.progress")}),e.jsxs("span",{className:"font-medium",children:[Math.round(r),"%"]})]}),e.jsx(R,{value:r,className:"h-2"})]}),e.jsx("p",{className:"text-gray-600",children:n("exercises.ai_tasks.description")})]}),e.jsxs(S,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-3",children:["1. ",n("exercises.ai_tasks.question_1")]}),e.jsx(w,{placeholder:n("exercises.ai_tasks.placeholder_1"),rows:5,value:l["ai-tasks"]?.tasks||"",onChange:d=>h("ai-tasks","tasks",d.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-3",children:["2. ",n("exercises.ai_tasks.question_2")]}),e.jsx(w,{placeholder:n("exercises.ai_tasks.placeholder_2"),rows:3,value:l["ai-tasks"]?.timeConsumers||"",onChange:d=>h("ai-tasks","timeConsumers",d.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-3",children:["3. ",n("exercises.ai_tasks.question_3")]}),e.jsx(w,{placeholder:n("exercises.ai_tasks.placeholder_3"),rows:4,value:l["ai-tasks"]?.aiOpportunities||"",onChange:d=>h("ai-tasks","aiOpportunities",d.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-3",children:["4. ",n("exercises.ai_tasks.question_4")]}),e.jsx(w,{placeholder:n("exercises.ai_tasks.placeholder_4"),rows:3,value:l["ai-tasks"]?.concerns||"",onChange:d=>h("ai-tasks","concerns",d.target.value)})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(_,{onClick:t,disabled:p,className:"gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),p?"Saving...":n("exercises.ai_tasks.save_progress")]}),e.jsxs(_,{onClick:g,disabled:p,variant:i?"secondary":"default",className:"gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),n(i?"exercises.ai_tasks.completed":"exercises.ai_tasks.complete_exercise")]})]}),i&&e.jsx(C,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100 mb-1",children:n("exercises.ai_tasks.success_title")}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:n("exercises.ai_tasks.success_description")})]})]})})})]})]})}function ve({responses:l,updateResponse:h,userDetails:c}){const[i,k]=f.useState(!1),{t:a}=z(),x=l["future-planning"]||{},p=[0,1,2,3,4,5].flatMap(t=>[`year${t}_professional`,`year${t}_personal`]),j=p.filter(t=>x[t]&&x[t].trim().length>0).length,n=x.story&&x.story.trim().length>0,y=p.length+1,b=(j+(n?1:0))/y*100,N=async()=>{try{await P({exercise_type:"future-planning",responses:x,completion_status:"in_progress",user_details:c}),u.success(a("exercises.future_planning.save_success"))}catch(t){console.error("Future Planning save error:",t),u.error("Failed to save progress. Please try again.")}},r=async()=>{if(j>=6&&n)try{await P({exercise_type:"future-planning",responses:x,completion_status:"completed",user_details:c}),k(!0),u.success(a("exercises.future_planning.complete_success"))}catch(t){console.error("Future Planning complete error:",t),u.error("Failed to complete exercise. Please try again.")}else u.error(a("exercises.future_planning.complete_error"))};return e.jsxs(C,{className:"max-w-4xl mx-auto",children:[e.jsxs(D,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(U,{className:"flex items-center gap-3",children:[e.jsx(J,{className:"w-6 h-6 text-primary"}),a("exercises.future_planning.title")]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs($,{variant:i?"default":"secondary",className:"gap-1",children:[i?e.jsx(B,{className:"w-3 h-3"}):e.jsx(O,{className:"w-3 h-3"}),a(i?"exercises.ai_tasks.completed":"exercises.ai_tasks.in_progress")]}),e.jsxs($,{variant:"outline",children:[Math.round(b),"% ",a("exercises.future_planning.complete")]})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsx(R,{value:b,className:"h-2"})}),e.jsx("p",{className:"text-gray-600",children:a("exercises.future_planning.description")})]}),e.jsxs(S,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-medium",children:a("exercises.future_planning.worksheet_title")}),e.jsx("p",{className:"text-sm text-gray-600",children:a("exercises.future_planning.quote")}),[0,1,2,3,4,5].map(t=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium",children:t})}),e.jsx("h4",{className:"text-lg font-medium",children:t===0?a("exercises.future_planning.today"):`${a("exercises.future_planning.year")} ${t}`})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 ml-11",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a("exercises.future_planning.professional_changes")}),e.jsx(w,{placeholder:a(t===0?"exercises.future_planning.current_role_placeholder":"exercises.future_planning.future_professional_placeholder"),rows:3,value:l["future-planning"]?.[`year${t}_professional`]||"",onChange:g=>h("future-planning",`year${t}_professional`,g.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a("exercises.future_planning.personal_changes")}),e.jsx(w,{placeholder:a(t===0?"exercises.future_planning.current_personal_placeholder":"exercises.future_planning.future_personal_placeholder"),rows:3,value:l["future-planning"]?.[`year${t}_personal`]||"",onChange:g=>h("future-planning",`year${t}_personal`,g.target.value)})]})]})]},t))]}),e.jsxs("div",{className:"space-y-6 pt-8 border-t",children:[e.jsx("h3",{className:"text-xl font-medium",children:a("exercises.future_planning.story_title")}),e.jsx("p",{className:"text-gray-600",children:a("exercises.future_planning.story_intro")}),e.jsx("p",{className:"text-gray-600",children:a("exercises.future_planning.story_description")}),e.jsx(w,{placeholder:a("exercises.future_planning.story_placeholder"),rows:8,value:l["future-planning"]?.story||"",onChange:t=>h("future-planning","story",t.target.value)})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(_,{onClick:N,className:"gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),a("exercises.future_planning.save_vision")]}),e.jsxs(_,{onClick:r,variant:i?"secondary":"default",className:"gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),a(i?"exercises.future_planning.vision_complete":"exercises.future_planning.complete_vision")]}),e.jsxs(_,{variant:"outline",className:"gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),a("exercises.future_planning.share_story")]})]}),i&&e.jsx(C,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:a("exercises.future_planning.vision_completed_title")}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:a("exercises.future_planning.vision_completed_description")})]})]})})})]})]})}function _e({responses:l,updateResponse:h,userDetails:c}){const[i,k]=f.useState(!1),{t:a}=z(),x=l["tool-sharing"]||{},p=["currentTools","recommendation","workflowImpact","wantToLearn","challenge"],j=p.filter(r=>x[r]&&x[r].trim().length>0).length,n=p.length,y=j/n*100,b=async()=>{try{await P({exercise_type:"tool-sharing",responses:x,completion_status:"in_progress",user_details:c}),u.success(a("exercises.tool_sharing.save_success"))}catch(r){console.error("Tool Sharing save error:",r),u.error("Failed to save progress. Please try again.")}},N=async()=>{if(j>=4)try{await P({exercise_type:"tool-sharing",responses:x,completion_status:"completed",user_details:c}),k(!0),u.success(a("exercises.tool_sharing.complete_success"))}catch(r){console.error("Tool Sharing complete error:",r),u.error("Failed to complete exercise. Please try again.")}else u.error(a("exercises.tool_sharing.complete_error"))};return e.jsxs(C,{className:"max-w-4xl mx-auto",children:[e.jsxs(D,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(U,{className:"flex items-center gap-3",children:[e.jsx(Q,{className:"w-6 h-6 text-primary"}),a("exercises.tool_sharing.title")]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs($,{variant:i?"default":"secondary",className:"gap-1",children:[i?e.jsx(B,{className:"w-3 h-3"}):e.jsx(O,{className:"w-3 h-3"}),a(i?"exercises.tool_sharing.shared":"exercises.ai_tasks.in_progress")]}),e.jsxs($,{variant:"outline",children:[j,"/",n," ",a("exercises.ai_tasks.sections")]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:a("exercises.tool_sharing.completion")}),e.jsxs("span",{className:"font-medium",children:[Math.round(y),"%"]})]}),e.jsx(R,{value:y,className:"h-2"})]}),e.jsx("p",{className:"text-gray-600",children:a("exercises.tool_sharing.description")})]}),e.jsxs(S,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-3",children:["1. ",a("exercises.tool_sharing.question_1")]}),e.jsx(w,{placeholder:a("exercises.tool_sharing.placeholder_1"),rows:4,value:l["tool-sharing"]?.currentTools||"",onChange:r=>h("tool-sharing","currentTools",r.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-3",children:["2. ",a("exercises.tool_sharing.question_2")]}),e.jsx(w,{placeholder:a("exercises.tool_sharing.placeholder_2"),rows:4,value:l["tool-sharing"]?.recommendation||"",onChange:r=>h("tool-sharing","recommendation",r.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-3",children:["3. ",a("exercises.tool_sharing.question_3")]}),e.jsx(w,{placeholder:a("exercises.tool_sharing.placeholder_3"),rows:4,value:l["tool-sharing"]?.workflowImpact||"",onChange:r=>h("tool-sharing","workflowImpact",r.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-3",children:["4. ",a("exercises.tool_sharing.question_4")]}),e.jsx(de,{placeholder:a("exercises.tool_sharing.placeholder_4"),value:l["tool-sharing"]?.wantToLearn||"",onChange:r=>h("tool-sharing","wantToLearn",r.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-3",children:["5. ",a("exercises.tool_sharing.question_5")]}),e.jsx(w,{placeholder:a("exercises.tool_sharing.placeholder_5"),rows:3,value:l["tool-sharing"]?.challenge||"",onChange:r=>h("tool-sharing","challenge",r.target.value)})]})]}),e.jsxs("div",{className:"bg-gray-100/20 rounded-lg p-6",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(oe,{className:"w-5 h-5 text-primary"}),a("exercises.tool_sharing.community_insights_title")]}),e.jsx("p",{className:"text-sm text-gray-600",children:a("exercises.tool_sharing.community_insights_description")})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(_,{onClick:b,className:"gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),a("exercises.tool_sharing.save_share")]}),e.jsxs(_,{onClick:N,variant:i?"secondary":"default",className:"gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),a(i?"exercises.tool_sharing.contribution_shared":"exercises.tool_sharing.complete_share")]}),e.jsxs(_,{variant:"outline",className:"gap-2",children:[e.jsx(pe,{className:"w-4 h-4"}),a("exercises.tool_sharing.view_community_tools")]})]}),i&&e.jsx(C,{className:"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800",children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-1",children:a("exercises.tool_sharing.thank_you_title")}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:a("exercises.tool_sharing.thank_you_description")})]})]})})})]})]})}function Ne({storageKey:l="ai-task-coach",initialData:h,onSave:c,onStatusChange:i,className:k}){const[a,x]=f.useState(1),[p,j]=f.useState("in_progress"),[n,y]=f.useState(!1),[b,N]=f.useState(()=>{try{const s=localStorage.getItem(l);if(s)return JSON.parse(s)}catch{}return h||{}}),r=(s,o="")=>b?.[s]??o,t=(s,o)=>N(v=>({...v,[s]:o})),g=s=>{const o=Number(s);return Number.isFinite(o)?Math.max(0,Math.min(5,o)):0},d=s=>{const o=g(r(`candidate${s}_rep`)),v=g(r(`candidate${s}_clarity`)),F=g(r(`candidate${s}_data`)),ie=g(r(`candidate${s}_riskTolerance`)),le=g(r(`candidate${s}_freq`)),ne=g(r(`candidate${s}_collab`));return o+v+F+ie+le+ne},m=f.useMemo(()=>[1,2,3].map(s=>d(s)),[b]),E=m.indexOf(Math.max(...m))+1,L=f.useMemo(()=>["tasks_list","time_traps","candidate1_name","candidate1_rep","candidate1_clarity","candidate1_data","candidate1_riskTolerance","candidate1_freq","candidate1_collab","privacy_notes","context_tools","quick_wins","adoption_plan","kpis_before","kpis_after"],[]),K=f.useMemo(()=>{const s=L.filter(v=>(r(v)||"").toString().trim().length>0).length,o=L.length;return Math.round(s/o*100)},[L,b]);f.useEffect(()=>{try{localStorage.setItem(l,JSON.stringify(b))}catch{}},[b,l]);const Z=()=>{t("quick_wins",`‚Ä¢ Assistant d'√©criture: mod√®les de r√©ponses, synth√®se d'emails, ton pro
‚Ä¢ Synth√®se de r√©unions: plan d'actions (3 actions, responsable, √©ch√©ance)
‚Ä¢ Analyse l√©g√®re de donn√©es: tendances + 3 recommandations
‚Ä¢ Pr√©paration de contenu: plan d√©taill√© + checklist qualit√©
‚Ä¢ Recherche guid√©e: veille rapide avec 3 sources fiables`)},ee=()=>{const s=r("candidate1_name","T√¢che 1"),o=r("candidate2_name","T√¢che 2"),v=`S1 ‚Äì Cadrage: choisir ${s} et ${o}, fixer objectifs (temps gagn√©), cr√©er 3 prompts.
S2 ‚Äì Prototype: tester sur 3 occurrences, journal de bord (r√©sultat, correction, temps).
S3 ‚Äì Pilote: partager avec 1‚Äì2 coll√®gues, r√®gles qualit√© & confidentialit√©.
S4 ‚Äì Standardisation: biblioth√®que de prompts, checklist, mini-guide interne.`;t("adoption_plan",v)},se=()=>{try{const s={exercise:"ai-task-coach",created_at:new Date().toISOString(),status:p,data:b},o=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),v=URL.createObjectURL(o),F=document.createElement("a");F.href=v,F.download=`ai-task-coach-${Date.now()}.json`,F.click(),URL.revokeObjectURL(v)}catch{alert("Export impossible.")}},ae=async()=>{c?(y(!0),await Promise.resolve(c(b,p)),y(!1)):alert("Progr√®s enregistr√©s localement ‚úÖ")},W=async s=>{j(s),i&&await Promise.resolve(i(s,b))},re=async()=>{if(K<70){alert("Merci de compl√©ter davantage de sections avant de terminer (‚â• 70%).");return}await W("completed"),alert("Exercice termin√© avec succ√®s üéâ")},te=async()=>{const s=r("lead_name"),o=r("lead_email");if(!s||!o){alert("Indiquez votre pr√©nom et votre email pour recevoir vos recommandations.");return}t("lead_captured_at",new Date().toISOString()),await W("lead_captured"),alert("Super ! Vos recommandations personnalis√©es sont pr√™tes ‚úÖ")},I=({num:s,title:o,emoji:v})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 text-blue-700 rounded-full flex items-center justify-center text-sm font-medium",children:s}),e.jsxs("h4",{className:"text-lg font-semibold flex items-center gap-2",children:[v?e.jsx("span",{children:v}):null,o]})]}),q=({children:s})=>e.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-4 bg-white dark:bg-gray-900 shadow-sm",children:s});return e.jsxs("div",{className:["w-full max-w-4xl mx-auto",k].filter(Boolean).join(" "),children:[e.jsxs("div",{className:"mb-4 flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Exercice Coach IA ‚Äì Analyse des t√¢ches"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Cartographiez vos t√¢ches, rep√©rez les quick wins IA et repartez avec un mini-plan d‚Äôadoption + recommandations."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:["text-xs px-2 py-1 rounded border",p==="completed"?"bg-green-100 text-green-700 border-green-200":p==="lead_captured"?"bg-indigo-100 text-indigo-700 border-indigo-200":"bg-gray-100 text-gray-700 border-gray-200"].join(" "),children:p==="completed"?"Termin√©":p==="lead_captured"?"Lead captur√©":"En cours"}),e.jsxs("span",{className:"text-xs px-2 py-1 rounded border bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:[K,"%"]})]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-800 rounded mb-6 overflow-hidden",children:e.jsx("div",{className:"h-2 bg-blue-600 transition-all duration-300 ease-out",style:{width:`${K}%`}})}),e.jsxs("div",{className:"space-y-8",children:[a===1&&e.jsxs(q,{children:[e.jsx(I,{num:1,title:"Votre semaine en photo",emoji:"üéØ"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"Listez 5‚Äì7 t√¢ches r√©currentes. Ajoutez temps/semaine, fr√©quence, charge mentale, plaisir, nature (standardis√© vs cr√©atif)."}),e.jsx("textarea",{className:"mt-3 w-full min-h-[140px] p-3 rounded border bg-white dark:bg-gray-950 border-gray-200 dark:border-gray-700",placeholder:"Ex. R√©diger comptes rendus (3h/sem, hebdo, charge √©lev√©e, plaisir moyen, standardis√©)‚Ä¶",value:r("tasks_list"),onChange:s=>t("tasks_list",s.target.value)})]}),a===2&&e.jsxs(q,{children:[e.jsx(I,{num:2,title:"Les vrais irritants",emoji:"üß†"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"Choisissez 2 t√¢ches qui consomment le plus (temps/√©nergie) et expliquez pourquoi."}),e.jsx("textarea",{className:"mt-3 w-full min-h-[120px] p-3 rounded border bg-white dark:bg-gray-950 border-gray-200 dark:border-gray-700",placeholder:"Ex. Emailing client: volume + copier/coller. Reporting: donn√©es √©parpill√©es + multiples validations.",value:r("time_traps"),onChange:s=>t("time_traps",s.target.value)})]}),a===3&&e.jsxs(q,{children:[e.jsx(I,{num:3,title:"Score de compatibilit√© IA (jusqu‚Äô√† 3 t√¢ches)",emoji:"üí°"}),e.jsxs("div",{className:"space-y-5 mt-3",children:[[1,2,3].map(s=>e.jsxs("div",{className:"rounded-md border border-gray-200 dark:border-gray-700 p-3",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 items-center",children:[e.jsx("input",{className:"w-full p-2 rounded border bg-white dark:bg-gray-950 border-gray-200 dark:border-gray-700",placeholder:`Nom de la t√¢che ${s}`,value:r(`candidate${s}_name`),onChange:o=>t(`candidate${s}_name`,o.target.value)}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Score total:"," ",e.jsx("span",{className:"font-semibold",children:d(s)})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3 mt-3",children:[e.jsx(T,{label:"R√©p√©titivit√© (0‚Äì5)",value:r(`candidate${s}_rep`),onChange:o=>t(`candidate${s}_rep`,o)}),e.jsx(T,{label:"Clart√© du r√©sultat (0‚Äì5)",value:r(`candidate${s}_clarity`),onChange:o=>t(`candidate${s}_clarity`,o)}),e.jsx(T,{label:"Donn√©es dispo (0‚Äì5)",value:r(`candidate${s}_data`),onChange:o=>t(`candidate${s}_data`,o)}),e.jsx(T,{label:"Tol√©rance au risque (0‚Äì5)",value:r(`candidate${s}_riskTolerance`),onChange:o=>t(`candidate${s}_riskTolerance`,o)}),e.jsx(T,{label:"Fr√©quence/urgence (0‚Äì5)",value:r(`candidate${s}_freq`),onChange:o=>t(`candidate${s}_freq`,o)}),e.jsx(T,{label:"Collaboration (0‚Äì5)",value:r(`candidate${s}_collab`),onChange:o=>t(`candidate${s}_collab`,o)})]})]},s)),e.jsx("p",{className:"text-xs text-gray-500",children:"‚â• 13 = opportunit√© forte ¬∑ 8‚Äì12 = moyenne ¬∑ ‚â§ 7 = faible"})]})]}),a===4&&e.jsxs(q,{children:[e.jsx(I,{num:4,title:"Donn√©es & confidentialit√©",emoji:"üìò"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"D√©crivez types de donn√©es, sensibilit√©, stockage, anonymisation possible, cadre/accord."}),e.jsx("textarea",{className:"mt-3 w-full min-h-[120px] p-3 rounded border bg-white dark:bg-gray-950 border-gray-200 dark:border-gray-700",placeholder:"Ex. Donn√©es clients (moyenne), dans CRM, anonymisation partielle possible, usage interne valid√©.",value:r("privacy_notes"),onChange:s=>t("privacy_notes",s.target.value)})]}),a===5&&e.jsxs(q,{children:[e.jsx(I,{num:5,title:"Contexte & outils actuels",emoji:"üë•"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"Indiquez outils, contraintes IT/juridique, langues, budget, niveau."}),e.jsx("textarea",{className:"mt-3 w-full min-h-[120px] p-3 rounded border bg-white dark:bg-gray-950 border-gray-200 dark:border-gray-700",placeholder:"Ex. Google Workspace, Slack; politique donn√©es stricte; FR/EN; budget 20‚Äì50‚Ç¨/mois; niveau d√©butant.",value:r("context_tools"),onChange:s=>t("context_tools",s.target.value)})]}),a===6&&e.jsxs(q,{children:[e.jsx(I,{num:6,title:"Quick wins (‚â§ 30 min)",emoji:"‚ö°"}),e.jsx("div",{className:"mt-3 flex items-center gap-3",children:e.jsx("button",{type:"button",className:"px-3 py-2 rounded border bg-gray-50 hover:bg-gray-100 border-gray-200 text-sm",onClick:Z,children:"Ins√©rer un exemple"})}),e.jsx("textarea",{className:"mt-3 w-full min-h-[120px] p-3 rounded border bg-white dark:bg-gray-950 border-gray-200 dark:border-gray-700",placeholder:"Notez 2‚Äì3 id√©es concr√®tes √† tester cette semaine.",value:r("quick_wins"),onChange:s=>t("quick_wins",s.target.value)})]}),a===7&&e.jsxs(q,{children:[e.jsx(I,{num:7,title:"Plan d‚Äôadoption (4 semaines)",emoji:"üóìÔ∏è"}),e.jsx("div",{className:"mt-3 flex items-center gap-3",children:e.jsx("button",{type:"button",className:"px-3 py-2 rounded border bg-gray-50 hover:bg-gray-100 border-gray-200 text-sm",onClick:ee,children:"G√©n√©rer un plan"})}),e.jsx("textarea",{className:"mt-3 w-full min-h-[140px] p-3 rounded border bg-white dark:bg-gray-950 border-gray-200 dark:border-gray-700",placeholder:"D√©crivez vos √©tapes S1‚ÜíS4: cadrage, prototype, pilote, standardisation.",value:r("adoption_plan"),onChange:s=>t("adoption_plan",s.target.value)})]}),a===8&&e.jsxs(q,{children:[e.jsx(I,{num:8,title:"Indicateurs de succ√®s",emoji:"‚úÖ"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-3",children:[e.jsx(M,{label:"Heures/sem AVANT (ex. 6)",type:"number",min:0,step:"0.1",value:r("kpis_before"),onChange:s=>t("kpis_before",s.target.value)}),e.jsx(M,{label:"Heures/sem APR√àS (ex. 3.5)",type:"number",min:0,step:"0.1",value:r("kpis_after"),onChange:s=>t("kpis_after",s.target.value)})]}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-200 mt-2",children:["Gain estim√©:"," ",(()=>{const s=Number(r("kpis_before"))||0,o=Number(r("kpis_after"))||0,v=Math.max(0,s-o);return`${v.toFixed(1)} h/sem ‚âà ${(v*52).toFixed(0)} h/an`})()]})]}),e.jsxs(q,{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Recevez vos recommandations personnalis√©es"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Entrez vos coordonn√©es et obtenez votre snapshot: t√¢ches prioritaires, quick wins & checklist confidentialit√©."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-3",children:[e.jsx(M,{label:"Pr√©nom",placeholder:"Votre pr√©nom",value:r("lead_name"),onChange:s=>t("lead_name",s.target.value)}),e.jsx(M,{label:"Email professionnel",placeholder:"prenom@entreprise.com",type:"email",value:r("lead_email"),onChange:s=>t("lead_email",s.target.value)})]}),r("lead_name")&&r("lead_email")?e.jsxs("div",{className:"mt-4 rounded-md border border-gray-200 dark:border-gray-700 p-3 bg-gray-50 dark:bg-gray-800/40",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:"Aper√ßu de votre snapshot"}),e.jsxs("div",{className:"text-sm",children:["T√¢che prioritaire sugg√©r√©e:"," ",e.jsx("span",{className:"font-medium",children:r(`candidate${E}_name`,"‚Äî")})," ","(score ",m[E-1]||0,")"]}),e.jsx("div",{className:"text-sm",children:"Prochain pas: testez un quick win cette semaine et mesurez le temps avant/apr√®s."})]}):null,e.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[e.jsx("button",{type:"button",onClick:te,className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white text-sm",children:"Voir mes recommandations"}),e.jsx("button",{type:"button",onClick:ae,disabled:n,className:"px-4 py-2 rounded border bg-white hover:bg-gray-50 border-gray-200 text-sm disabled:opacity-60",children:n?"Enregistrement‚Ä¶":"Enregistrer le progr√®s"}),e.jsx("button",{type:"button",onClick:se,className:"px-4 py-2 rounded border bg-white hover:bg-gray-50 border-gray-200 text-sm",children:"Exporter (JSON)"}),e.jsx("button",{type:"button",onClick:re,className:"px-4 py-2 rounded border bg-green-600 hover:bg-green-700 text-white text-sm",children:p==="completed"?"Termin√©":"Marquer comme termin√©"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("button",{type:"button",disabled:a<=1,onClick:()=>x(s=>Math.max(1,s-1)),className:"px-4 py-2 rounded border bg-white hover:bg-gray-50 border-gray-200 text-sm disabled:opacity-50",children:"√âtape pr√©c√©dente"}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["√âtape ",a," / 8"]}),e.jsx("button",{type:"button",onClick:()=>x(s=>Math.min(8,s+1)),disabled:a>=8,className:"px-4 py-2 rounded border bg-white hover:bg-gray-50 border-gray-200 text-sm disabled:opacity-50",children:"√âtape suivante"})]}),p==="completed"&&e.jsxs("div",{className:"rounded-md border border-green-200 bg-green-50 p-4 text-green-800",children:[e.jsx("div",{className:"font-semibold mb-1",children:"Bravo !"}),e.jsx("div",{className:"text-sm",children:"Votre exercice est termin√©. Surveillez votre bo√Æte mail pour le r√©capitulatif."})]})]})]})}function M({label:l,className:h,...c}){return e.jsxs("div",{className:["flex flex-col gap-1",h].filter(Boolean).join(" "),children:[l?e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:l}):null,e.jsx("input",{...c,className:["w-full p-2 rounded border bg-white dark:bg-gray-950","border-gray-200 dark:border-gray-700",c.className||""].join(" ")})]})}function T({label:l,value:h,onChange:c}){return e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(ke,{children:l}),e.jsx("input",{type:"number",min:0,max:5,step:"1",value:h,onChange:i=>c(Number(i.target.value)),className:"w-full p-2 rounded border bg-white dark:bg-gray-950 border-gray-200 dark:border-gray-700"})]})}function ke({children:l}){return e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:l})}function we({responses:l,updateResponse:h,userDetails:c}){const{t:i}=z(),k=async(x,p)=>{Object.entries(x).forEach(([j,n])=>{h("ai-task-coach",j,n)}),console.log("AI Task Coach Exercise saved:",{data:x,status:p,userDetails:c})},a=async(x,p)=>{console.log("AI Task Coach Exercise status changed:",{status:x,data:p})};return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:i("exercises.ai_task_coach.title")}),e.jsx("p",{className:"text-lg text-gray-600",children:i("exercises.ai_task_coach.description")})]}),e.jsx(Ne,{storageKey:"ai-task-coach",initialData:l["ai-task-coach"]||{},onSave:k,onStatusChange:a,className:"w-full"})]})}function Ke({onBackToHome:l,onPageChange:h}){const{t:c}=z(),{user:i,signOut:k,loading:a}=me(),[x,p]=f.useState(null),[j,n]=f.useState({}),[y,b]=f.useState(!1),N=(g,d,m)=>{n(E=>({...E,[g]:{...E[g],[d]:m}}))},r=async()=>{try{await k(),u.success("Signed out successfully")}catch{u.error("Failed to sign out")}},t=()=>i?{name:i.user_metadata?.name||i.email?.split("@")[0]||"User",email:i.email||"",company:i.user_metadata?.company||""}:null;return x?e.jsx("div",{className:"min-h-screen",children:e.jsx("section",{className:"py-16 lg:py-24",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs(_,{variant:"ghost",onClick:()=>p(null),className:"mb-8 gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),c("exercises.back_to_exercises")]}),x==="ai-tasks"&&e.jsx(fe,{responses:j,updateResponse:N,userDetails:t()}),x==="future-planning"&&e.jsx(ve,{responses:j,updateResponse:N,userDetails:t()}),x==="tool-sharing"&&e.jsx(_e,{responses:j,updateResponse:N,userDetails:t()}),x==="ai-task-coach"&&e.jsx(we,{responses:j,updateResponse:N,userDetails:t()})]})})}):e.jsxs("div",{className:"min-h-screen",children:[e.jsx("section",{className:"py-16 lg:py-24 relative overflow-hidden",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 relative z-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[l&&e.jsxs(_,{variant:"ghost",onClick:l,className:"mb-8 gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),c("exercises.back_to_home")]}),e.jsxs("div",{className:"text-center",children:[e.jsx($,{variant:"outline",className:"mb-4 px-4 py-2 border border-gray-200/60 bg-white/60 backdrop-blur-sm",children:c("exercises.page_badge")}),e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6 bg-gradient-to-r from-foreground to-primary/80 bg-clip-text text-transparent",children:c("exercises.page_title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:c("exercises.page_subtitle")})]})]})})}),!i&&!a&&e.jsx("section",{className:"py-16 lg:py-24",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsx(C,{className:"relative overflow-hidden border border-gray-200/60 shadow-xl bg-white/90 backdrop-blur-sm",children:e.jsxs(S,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-foreground to-primary/80 bg-clip-text text-transparent",children:"Get Started with Your AI Journey"}),e.jsx("p",{className:"text-gray-600",children:"Sign in or create an account to access interactive exercises and receive personalized recommendations."})]}),e.jsx("div",{className:"text-center",children:e.jsxs(_,{onClick:()=>b(!0),className:"gap-3 px-8 py-3 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx(Y,{className:"w-4 h-4"}),"Get Started - Sign Up"]})})]})})})}),i&&e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsx(C,{className:"relative overflow-hidden border border-green-500/60 shadow-xl bg-green-50/90 backdrop-blur-sm",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-green-900",children:["Welcome, ",t()?.name,"!"]}),e.jsx("p",{className:"text-sm text-green-700",children:"You're signed in and ready to start your AI journey."})]})]}),e.jsxs(_,{variant:"outline",size:"sm",onClick:r,className:"gap-2 border border-green-500/60 hover:border-green-500/80 text-green-700 hover:text-green-800",children:[e.jsx(je,{className:"w-4 h-4"}),"Sign Out"]})]})})})})}),e.jsx("section",{className:"py-16 lg:py-20",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"grid gap-8",children:ye.map(g=>{const d=g.icon,m=!i;return e.jsx(C,{className:`group relative overflow-hidden border border-gray-200/60 shadow-xl bg-white/90 backdrop-blur-sm transition-all duration-300 ${m?"opacity-60 cursor-pointer":"hover:shadow-2xl hover:scale-105 cursor-pointer"}`,onClick:()=>{m?b(!0):p(g.id)},children:e.jsx(S,{className:"p-8",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center shrink-0 group-hover:bg-primary/15 transition-colors",children:e.jsx(d,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("h3",{className:"text-2xl font-medium group-hover:text-primary transition-colors",children:c(g.titleKey)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-1",children:[e.jsx(O,{className:"w-3 h-3"}),c(g.durationKey)]}),e.jsx($,{variant:"secondary",children:c(g.difficultyKey)})]})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:c(g.descriptionKey)}),e.jsxs("div",{className:"flex items-center gap-2 text-primary group-hover:gap-3 transition-all",children:[e.jsx("span",{className:"font-medium",children:m?c("header.sign_in","Sign in")+" to start":c("exercises.start_exercise")}),e.jsx(V,{className:"w-4 h-4 rotate-180"})]})]})]})})},g.id)})}),e.jsx("div",{className:"mt-16 text-center",children:e.jsx(C,{className:"relative overflow-hidden border border-gray-200/60 shadow-xl bg-white/90 backdrop-blur-sm",children:e.jsxs(S,{className:"p-12",children:[e.jsx(X,{className:"w-12 h-12 text-primary mx-auto mb-6"}),e.jsx("h3",{className:"text-2xl font-medium mb-4 bg-gradient-to-r from-foreground to-primary/80 bg-clip-text text-transparent",children:"Ready to Take Your AI Skills Further?"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Complete these exercises to get personalized AI recommendations, then join our hands-on workshops to implement AI in your daily work."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(_,{size:"lg",className:"gap-2 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>h&&h("workshop-booking"),children:[e.jsx(J,{className:"w-4 h-4"}),"Book a Workshop"]}),l&&e.jsx(_,{variant:"outline",size:"lg",onClick:l,className:"border border-gray-200/60 hover:border-primary/30 transition-all duration-300 hover:scale-105",children:"Explore More Learning"})]})]})})})]})})}),e.jsx(ge,{open:y,onOpenChange:b,mode:"signup"})]})}export{Ke as InteractiveExercisesPage};
